{% extends 'index.html' %}
{% block content %}
{% load static %}
{% load humanize %}

<!-- ===========================
     HERO SECTION (KHÔNG LỖI)
=========================== -->
<div class="hero-simple">
    <div class="hero-text">
        <h1>E-Tech Shop - SALE CỰC SỐC</h1>
        <p>Giảm đến <span>50%</span> cho tất cả laptop gaming</p>
        <a href="{% url 'product' %}" class="hero-btn">Mua ngay</a>
    </div>
    <img src="{% static 'assets/images/laptop-hero.jpg' %}" class="hero-img" alt="">
</div>



<!-- ===========================
     SẢN PHẨM THỊNH HÀNH
=========================== -->
<div id="trending-items" class="section-container bg-silver">
    <div class="container">
        
        <h4 class="section-title clearfix">Sản phẩm thịnh hành</h4>

        <div class="row row-space-10">
            {% for p in trending_products %}
            {% if p.is_trending %}
            
            <div class="col-md-2 col-sm-4">
                <div class="item item-thumbnail product-card">

                    <a href="{% url 'product_detail' p.slug %}" class="item-image">
                        <img src="{{ p.product_image.url }}" alt="">
                        <div class="product-badge-discount">{{ p.discount_percentage }}% OFF</div>
                    </a>

                    <div class="item-info">
                        <h4 class="item-title">
                            <a href="{% url 'product_detail' p.slug %}">{{ p.product_name }}</a>
                        </h4>

                        <p class="item-desc">{{ p.product_description }}</p>

                        <div class="item-price">{{ p.discounted_price|intcomma }} đ</div>
                        <div class="item-discount-price">{{ p.orignal_price|intcomma }} đ</div>
                    </div>

                </div>
            </div>

            {% endif %}
            {% endfor %}
        </div>

    </div>
</div>



<!-- ===========================
     DANH SÁCH LAPTOP
=========================== -->
<div id="laptop-list" class="section-container bg-silver p-t-0">

    <div class="container">

        <h4 class="section-title clearfix">
            Laptops
            <a href="{% url 'laptops' %}" class="pull-right">Xem thêm</a>
        </h4>

        <div class="category-container">

            <!-- SIDEBAR -->
            <div class="category-sidebar">
                <ul class="category-list">
                    <li class="list-header">Thương hiệu nổi bật</li>
                    {% for brand in laptop_companies %}
                        <li><a href="{% url 'product_by_company_laptops' company_name=brand %}">{{ brand }}</a></li>
                    {% endfor %}
                </ul>
            </div>

            <!-- DANH SÁCH SẢN PHẨM -->
            <div class="category-detail">

                <div class="category-item list">
                    <div class="item-row">

                        {% for laptop in laptops %}
                        {% if laptop.category.category == 'Laptops' %}

                        <div class="item item-thumbnail product-card product-card-horizontal">

                            <a href="{% url 'product_detail' laptop.slug %}" class="item-image">
                                <img src="{{ laptop.product_image.url }}" alt="">
                                <div class="product-badge-discount">{{ laptop.discount_percentage }}% OFF</div>
                            </a>

                            <div class="item-info">
                                <h4 class="item-title">
                                    <a href="{% url 'product_detail' laptop.slug %}">{{ laptop.product_name }}</a>
                                </h4>

                                <p class="item-desc">{{ laptop.product_description }}</p>

                                <div class="item-price">{{ laptop.discounted_price|intcomma }} đ</div>
                                <div class="item-discount-price">{{ laptop.orignal_price|intcomma }} đ</div>
                            </div>

                        </div>

                        {% endif %}
                        {% endfor %}

                    </div>
                </div>

            </div>

        </div>

    </div>
</div>

{% endblock %}
